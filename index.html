<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DEFI & Cripto Tracker</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <header>
        <div class="main-logo-title">
          <span class="main-logo" style="background: none;">
            <img src="https://cdn-icons-png.flaticon.com/512/4214/4214500.png" alt="Wallet Logo" width="38" height="38" style="display:block;" />
          </span>
          <h1 class="main-title">DEFI & Cripto Tracker</h1>
        </div>
      </header>
      <main class="main-grid">
        <section class="wallet-section">
          <header>
            <h1 class="wallet-title">Consulta Billetera ETH</h1>
          </header>
          <main>
            <div class="card">
              <div class="wallet-saved-group">
                <select id="savedWallets" class="wallet-saved-select"></select>
                <button id="btnSaveWallet" class="btn-wallet" style="margin-left:8px;">Guardar wallet</button>
                <button id="btnDeleteWallet" class="btn-wallet" style="margin-left:8px; background:#e74c3c; color:#fff;" title="Eliminar billetera">
                  <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 6.5V15.5C5 16.3284 5.67157 17 6.5 17H13.5C14.3284 17 15 16.3284 15 15.5V6.5" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 6.5H17" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M8.33331 9.16667V13.3333" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M11.6667 9.16667V13.3333" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
                    <path d="M7.5 6.5V4.5C7.5 3.94772 7.94772 3.5 8.5 3.5H11.5C12.0523 3.5 12.5 3.94772 12.5 4.5V6.5" stroke="#fff" stroke-width="1.5" stroke-linecap="round"/>
                  </svg>
                </button>
                <button id="btnCopyWallet" class="btn-wallet" style="margin-left:8px; background:#23262f; color:#fff; border: 1.5px solid #45b26b;" title="Copiar dirección">
                  <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="7" y="7" width="9" height="9" rx="2" stroke="#fff" stroke-width="1.5"/>
                    <rect x="4" y="4" width="9" height="9" rx="2" stroke="#fff" stroke-width="1.5"/>
                  </svg>
                </button>
              </div>
              <h2 class="wallet-subtitle">Ingresa tu dirección</h2>
              <div class="input-group">
                <input id="walletAddress" type="text" placeholder="0x... dirección ETH" />
                <button id="btnFetchWallet" class="btn-wallet" style="background: transparent; border: 1px solid white; border-radius: 8px; padding: 4px; margin-left: 0;">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M21 21L16.65 16.65" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <ul id="walletData" class="wallet-balances"></ul>
            </div>
          </main>
        </section>
        <div id="eth-transactions-section">
          <div id="eth-transactions-header">
            <h1 style="font-size:1.3em; color:#fff; margin-bottom: 12px;">Transacciones ETH/ERC20</h1>
          </div>
          <div id="eth-transactions-content">
            <table id="txTable" style="display:none; width:100%; background:#23262f; border-radius:10px; overflow:hidden;">
              <thead style="background:#181a20; color:#aaa; display:none;">
                <tr><th>Tipo</th><th>Token</th><th>Cantidad</th><th>USD</th></tr>
              </thead>
              <tbody id="txBody"></tbody>
            </table>
            <div class="load-more" style="display:none; text-align:center; margin-top:10px; margin-bottom:32px;"><button id="btnLoadMore">Ver más</button></div>
          </div>
        </div>
        <section class="crypto-section">
          <h2>Seguimiento de Pares Cripto/USDT</h2>
          <form id="pair-form">
            <input
              type="text"
              id="pair-search"
              placeholder="Buscar moneda (ej: BTC, ETH, SOL)..."
              autocomplete="off"
            />
            <div id="pair-suggestions"></div>
          </form>
          <div id="tracked-pairs"></div>
          <div id="pair-details" class="hidden">
            <button id="close-details">✕</button>
            <h3 id="pair-title"></h3>
            <div id="pair-price"></div>
            <div class="interval-selector">
              <button data-interval="1d">1D</button>
              <button data-interval="4h">4H</button>
              <button data-interval="1h">1H</button>
              <button data-interval="15m">15M</button>
            </div>
            <canvas id="candlestick-chart"></canvas>
          </div>
        </section>
      </main>
      <footer>
        <p>
          Inspirado en
          <a href="https://app.usual.money/" target="_blank">Usual Money</a> |
          Hecho por Josesitooo
        </p>
      </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
    <script src="app.js"></script>
  </body>
</html>
